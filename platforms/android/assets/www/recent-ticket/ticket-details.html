<ion-view ng-controller="RecentTicketCtrl as RecentTicketVm" translate-namespace="RECENT_TICKET" view-title="{{ 'RECENT_TICKET.TICKET_DETAILS_TITLE' | translate }}">
    <ion-nav-buttons side="left">
        <button ng-click="$ionicGoBack()" class="button button-icon button-clear ion-android-arrow-back">
        </button>
    </ion-nav-buttons>
    <ion-nav-buttons side="right">
        <button ng-click="RecentTicketVm.showConfirm()" class="button button-icon button-clear">
            <i class="icon ion-printer-white"></i>
        </button>
    </ion-nav-buttons>
    <ion-content class="has-header recent-ticket-view">
        <div class="list">
            <div class="item ticket-details-img">
                <div class="list">
                    <a class="item">
                        <h1><b class="light">{{RecentTicketVm.ticketDetails.vehicle.licensePlate}}</b></h1>
                        <div ng-switch on="RecentTicketVm.ticketDetails.state">
                            <div ng-switch-when="issued">
                                <span class="badge badge-black badge-outline" translate=".TICKET_STATE.ISSUED">{{RecentTicketVm.ticketDetails.state}}</span>
                            </div>
                            <div ng-switch-when="invalid">
                                <span class="badge badge-assertive" translate=".TICKET_STATE.INVALID">{{RecentTicketVm.ticketDetails.state}}</span>
                            </div>
                            <div ng-switch-when="paid">
                                <span class="badge badge-balanced" translate=".TICKET_STATE.PAID">{{RecentTicketVm.ticketDetails.state}}</span>
                            </div>
                            <div ng-switch-default>
                                <span class="badge badge-black badge-outline">{{RecentTicketVm.ticketDetails.state}}</span>
                            </div>
                        </div>
                    </a>
                    <p>
                        <h2><b am-time-ago="RecentTicketVm.ticketDetails.issued" class="light"></b></h2>
                    </p>
                    <p>
                        <h2><b class="light">{{RecentTicketVm.ticketDetails.zone.label}}</b></h2>
                    </p>
                </div>
            </div>
            <div class="row text-center">
                <div class="col"><button class="button button-small button-calm" ng-click="RecentTicketVm.openModal('recent-ticket/ticket-details-action.html')"
                        translate=".BTN_REISSUE">Reissue</button></div>
                <div class="col"><button class="button button-small button-assertive" ng-click="RecentTicketVm.openVoidModal()" translate=".BTN_VOID">Void</button></div>
            </div>
            <label class="item item-input item-floating-label">
                        <span class="input-label calm" translate=".STATE">State</span>
                        <input type="text" ng-model="RecentTicketVm.ticketDetails.vehicle.licenseState" ng-readonly="true" placeholder="State">
                    </label>
            <label class="item item-input item-floating-label">
                        <span class="input-label calm" translate=".VEHICLE.MAKE">Make</span>
                        <input type="text" ng-model="RecentTicketVm.ticketDetails.vehicle.make.description" ng-readonly="true" placeholder="Make">
                    </label>
            <label class="item item-input item-floating-label">
                        <span class="input-label calm" translate=".VEHICLE.MODEL">Model</span>
                        <input type="text" ng-model="RecentTicketVm.ticketDetails.vehicle.model.fulldescription" ng-readonly="true" placeholder="Model">
                    </label>
            <label class="item item-input item-icon-right item-floating-label">
                        <span class="input-label calm" translate=".VEHICLE.COLOR">Color</span>
                        <input type="text" ng-model="RecentTicketVm.ticketDetails.vehicle.color.description" ng-readonly="true" placeholder="Model">
                        <i class="icon ion-record" style="color:#{{RecentTicketVm.ticketDetails.vehicle.color.hex}}"></i>
                    </label>
            <label class="item item-input item-icon-right item-floating-label">
                        <span class="input-label calm" translate=".VEHICLE.AMOUNT_DUE">Amount Due</span>
                        <input type="text" ng-model="RecentTicketVm.ticketDetails.amount" ng-readonly="true" placeholder="Model">
                    </label>

            <div class="list padding">
                <span class="calm" translate=".VEHICLE.TICKET_COMMENT">Ticket Comment</span></br>
                <div ng-repeat="comments in RecentTicketVm.ticketDetails.comments.private" class="ticket-violations small-text">
                    <span class="icon-left ion-ios-pricetag-outline royal">{{comments}}</span>
                </div>
            </div>

            <div class="list padding">
                <span class="calm" translate=".VIOLATIONS">Violations</span></br>
                <div ng-repeat="violation in RecentTicketVm.ticketDetails.violations" class="ticket-violations small-text">
                    <span class="icon-left ion-ios-pricetag-outline royal">{{violation.label}}</span>
                </div>
            </div>

            <div class="list padding">
                <label class="item item-input item-floating-label">
                    <textarea draggable="true" ng-model="optionalDesc" maxlength="300" placeholder="{{ 'RECENT_TICKET.ADD_NOTE' | translate}}" rows="2" cols="10">
                    </textarea>
                </label>
                <b class="text-count stable">{{optionalDesc.length || 0}}/300</b>
            </div>

            <div class="row text-center">
                <div class="col"></div>
                <div class="col"><button class="button button-small button-calm" translate=".BTN_SAVE">Void</button></div>
            </div>
        </div>

        </div>
    </ion-content>
</ion-view>